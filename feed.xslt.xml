<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet
  version="1.0"
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  xmlns:atom="http://www.w3.org/2005/Atom"
  exclude-result-prefixes="atom"
>

<xsl:strip-space elements="*"/>
<xsl:output method="text"/>

<xsl:template match="*" />

<xsl:template match="atom:feed">
  <xsl:text>Atom Feed:</xsl:text>
  <xsl:value-of select="atom:id"/>
  <xsl:text>&#10;</xsl:text>
  <xsl:apply-templates/>
</xsl:template>

<xsl:template match="atom:entry">
  <xsl:text>  --------------------------------------&#10;</xsl:text>
  <xsl:text>  Feed entry: </xsl:text>
  <xsl:value-of select="atom:id"/>
  <xsl:text>&#10;</xsl:text>
  <xsl:apply-templates/>
</xsl:template>

<xsl:template match="atom:title">
  <xsl:if test="parent::atom:entry">
    <xsl:value-of select="'  '"/>
  </xsl:if>
  <xsl:value-of select="local-name()"/>: <xsl:apply-templates/>
  <xsl:text>&#10;</xsl:text>
</xsl:template>

<xsl:template match="atom:published|atom:updated">
  <xsl:if test="parent::atom:entry">
    <xsl:value-of select="'  '"/>
  </xsl:if>
  <xsl:value-of select="local-name()"/>: <xsl:apply-templates/>
  <xsl:text>&#10;</xsl:text>
</xsl:template>

</xsl:stylesheet>
